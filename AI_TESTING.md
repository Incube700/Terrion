# Тестирование AI системы врага

## Что было реализовано:

### 1. AI система принятия решений
- **Таймер решений**: Каждые 3 секунды AI принимает решение
- **Таймер спавна**: Каждые 5 секунд автоматический спавн базовых юнитов
- **Логика приоритетов**: Солдаты → Танки → Дроны → Башни

### 2. Система ограничений
- Максимум 3 солдата
- Максимум 2 танка  
- Максимум 2 дрона
- Стоимость: Солдат(20), Танк(50), Дрон(35), Башня(60)

### 3. Боевая логика юнитов
- Поиск ближайших врагов в радиусе 15 единиц
- Атака с кулдауном 1 секунда
- Визуальные эффекты атаки и получения урона
- Полоски здоровья

### 4. Экономика
- Начальная энергия: 100 (игрок и враг)
- Прирост: 10 энергии в секунду
- Автоматическое управление ресурсами врага

## Как тестировать:

1. **Запустите игру** через Godot Editor
2. **Нажмите "Start Battle"** в UI
3. **Наблюдайте за консолью** - там будут логи AI:
   - "AI врага принимает решение..."
   - "Вражеские юниты: солдаты=X, танки=Y, дроны=Z"
   - "AI врага создал [тип] за [стоимость] энергии"

## Ожидаемое поведение:

1. **Первые 3 секунды**: AI анализирует ситуацию
2. **5-10 секунд**: Появляются первые вражеские солдаты
3. **10-20 секунд**: AI строит танки и дроны
4. **20+ секунд**: AI строит башни при достатке ресурсов

## Отладка:

Если AI не работает, проверьте:
1. Консоль на ошибки
2. Группу "units" - юниты должны быть в ней
3. Таймеры AI в BattleManager
4. Энергию врага в UI

## Команды для отладки:

```gdscript
# В консоли Godot:
print(get_tree().get_nodes_in_group("units").size())  # Количество юнитов
print(get_node("BattleManager").enemy_energy)         # Энергия врага
```

## Следующие шаги:

1. Балансировка стоимости и времени
2. Улучшение тактики AI
3. Добавление специальных способностей
4. Реализация разных уровней сложности 