# ‚è∞ –°–ò–°–¢–ï–ú–ê –ö–£–õ–î–ê–£–ù–ê –ö–û–õ–õ–ï–ö–¢–û–†–û–í

## üìã **–ü–†–û–ë–õ–ï–ú–ê –ò –†–ï–®–ï–ù–ò–ï**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–ø–∞–º–∏—Ç—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –≠—Ç–æ –Ω–∞—Ä—É—à–∞–ª–æ –±–∞–ª–∞–Ω—Å –∏–≥—Ä—ã
- –ù—É–∂–µ–Ω –±—ã–ª –º–µ—Ö–∞–Ω–∏–∑–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### **–†–µ—à–µ–Ω–∏–µ:**
- **–ö—É–ª–¥–∞—É–Ω 30 —Å–µ–∫—É–Ω–¥** –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏—è–º–∏ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—É–ª–¥–∞—É–Ω** –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** –≤ UI
- **AI —Ç–æ–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç** –∫—É–ª–¥–∞—É–Ω

## üîß **–†–ï–ê–õ–ò–ó–ê–¶–ò–Ø**

### **1. –°–∏—Å—Ç–µ–º–∞ –∫—É–ª–¥–∞—É–Ω–∞ –≤ BattleManager.gd**
```gdscript
# –ö—É–ª–¥–∞—É–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–ª—è –∫–æ–º–∞–Ω–¥—ã)
var collector_cooldowns = {
	"player": 0.0,
	"enemy": 0.0
}
var collector_cooldown_time = 30.0  # 30 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏—è–º–∏ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤
```

### **2. –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–æ–º**
- `can_spawn_collector(team)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è
- `get_collector_cooldown(team)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
- `set_collector_cooldown(team)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
- `update_collector_cooldowns(delta)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ _process

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI**
- –ö–Ω–æ–ø–∫–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω
- –¢–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è: "‚è∞ 25—Å" –≤–º–µ—Å—Ç–æ "40‚ö°+5üíé"
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è –∫—É–ª–¥–∞—É–Ω–∞

### **4. AI —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω**
- AI –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –∫—É–ª–¥–∞—É–Ω–µ
- –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω

## üéÆ **–ì–ï–ô–ú–ü–õ–ï–ô**

### **–î–ª—è –∏–≥—Ä–æ–∫–∞:**
1. **–ù–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞** ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è collector
2. **–ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω** ‚Üí "‚è∞ 30—Å", "‚è∞ 29—Å", ...
3. **–ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞** ‚Üí –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞
4. **–ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥** ‚Üí –∫–Ω–æ–ø–∫–∞ —Å–Ω–æ–≤–∞ –∞–∫—Ç–∏–≤–Ω–∞

### **–î–ª—è AI:**
1. **AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—É–ª–¥–∞—É–Ω** ‚Üí –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–∞ –∫—É–ª–¥–∞—É–Ω–µ
2. **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è –∏–≥—Ä–∞** ‚Üí AI —Ç–æ–∂–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
3. **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è** ‚Üí –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞

## üìä **–ë–ê–õ–ê–ù–°**

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫—É–ª–¥–∞—É–Ω–∞:**
- ‚úÖ **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∞–º** –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤
- ‚úÖ **–°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é** - –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å
- ‚úÖ **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ** –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- **30 —Å–µ–∫—É–Ω–¥** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π** - –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã
- **–í–∏–∑—É–∞–ª—å–Ω—ã–π** - –∏–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç –∫—É–ª–¥–∞—É–Ω

## üîÑ **–û–ë–ù–û–í–õ–Å–ù–ù–´–ï –§–ê–ô–õ–´**

### **scripts/BattleManager.gd**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫—É–ª–¥–∞—É–Ω–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_on_spawn_collector()`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `ai_consider_collector_strategy()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_process()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–æ–≤

### **scripts/BattleUI.gd**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `update_button_availability()`
- –û–±–Ω–æ–≤–ª—ë–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–∞ –≤ UI

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞:
- **–ù–µ—Ç —Å–ø–∞–º–∞** - –∫—É–ª–¥–∞—É–Ω 30 —Å–µ–∫—É–Ω–¥
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è** - –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞
- **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å** - AI —Ç–æ–∂–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
- **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤ UI

–ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –∏–≥—Ä—ã, –Ω–æ —Ç–µ–ø–µ—Ä—å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è! üéÆ 